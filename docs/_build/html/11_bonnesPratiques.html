

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Quelques bonnes pratiques… &#8212; Linux en Bioinformatique</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '11_bonnesPratiques';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quizz 2" href="quizz_02.html" />
    <link rel="prev" title="Redirections" href="10_redirection.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="00_home.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Linux en Bioinformatique - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Linux en Bioinformatique - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="00_home.html">
                    A la découverte de Linux
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_team.html">L’équipe pédagogique</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_introduction.html">Le cluster de l’IFB</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_jupyter.html">C’est quoi JupyterHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_bash.html">Comment converser avec le terminal ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_module.html">Charger l’environnement logiciel</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_protoCommande.html">Prototype(s) d’une commande</a></li>
<li class="toctree-l1"><a class="reference internal" href="quizz_01.html">Quizz 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="cards_01.html">Fiches de révision</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Arborescence</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="07_arborescence.html">Arborescence de fichiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_storage.html">Stockage fichiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_manipulate.html">Manipuler des fichiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_redirection.html">Redirections</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Quelques bonnes pratiques…</a></li>
<li class="toctree-l1"><a class="reference internal" href="quizz_02.html">Quizz 2</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Qualité des lectures</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="12_data.html">Jeu de données</a></li>
<li class="toctree-l1"><a class="reference internal" href="13_fastqc.html">Analyser la qualité avec fastQC</a></li>
<li class="toctree-l1"><a class="reference internal" href="14_rogner.html">Rogner les reads</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Read mapping</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="15_mapping.html">Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="16_stopJupyter.html">Arrêter le serveur Jupyterhub</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Ressources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="17_raccourcis.html">Les raccourcis clavier du terminal</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown.html">Markdown</a></li>

<li class="toctree-l1"><a class="reference internal" href="pourquoiCaPlante.html">Pourquoi ça plante ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossaire.html">Glossaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/IFB-ElixirFr/LinuxEBAII" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/IFB-ElixirFr/LinuxEBAII/issues/new?title=Issue%20on%20page%20%2F11_bonnesPratiques.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/11_bonnesPratiques.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Quelques bonnes pratiques…</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evitez-les-espaces">Évitez les espaces !</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#attention-aux-fichiers-provenant-de-windows-macos">Attention aux fichiers provenant de Windows/MacOS</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="quelques-bonnes-pratiques">
<h1>Quelques bonnes pratiques…<a class="headerlink" href="#quelques-bonnes-pratiques" title="Permalink to this heading">#</a></h1>
<section id="evitez-les-espaces">
<h2>Évitez les espaces !<a class="headerlink" href="#evitez-les-espaces" title="Permalink to this heading">#</a></h2>
<p>Vous remarquerez que les fichiers et dossiers sous Linux ne contiennent généralement pas d’espaces. Il sont remplacés par un tiret bas : <code class="docutils literal notranslate"><span class="pre">_</span></code></p>
<p>Bien qu’il soit possible d’utiliser des espaces dans les noms de fichiers/dossiers, cette pratique risque de d’engendrer des erreurs !</p>
<p>Voyons ça d’un peu plus près…</p>
<p>Vous connaissez la syntaxe générique des commandes linux:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">command</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span><span class="w"> </span>argument1<span class="w"> </span>argument2
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bash: [options]: command not found
?2004h
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Ici, les arguments sont séparés par des espaces. Si vous essayez d’utiliser directement des noms de fichiers avec des espaces, ils seront traités comme des arguments distincts plutôt que comme un seul argument.</p>
<p>Exemple - on veut écrire le texte “bonjour EBAII 2023” dans le fichier : <code class="docutils literal notranslate"><span class="pre">bonjour</span> <span class="pre">ebaii.txt</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;bonjour EBAII 2023&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>bonjour<span class="w"> </span>ebaii.txt
cat<span class="w"> </span>bonjour<span class="w"> </span>ebaii.txt
</pre></div>
</div>
</div>
</div>
<p>on obtient une erreur ! Linux ne comprend pas que <code class="docutils literal notranslate"><span class="pre">bonjour</span> <span class="pre">ebaii.txt</span></code> est un seul argument. Il traite <code class="docutils literal notranslate"><span class="pre">bonjour</span></code> et <code class="docutils literal notranslate"><span class="pre">ebaii.txt</span></code> séparément.</p>
<p>Quand on regarde le contenu du fichier <code class="docutils literal notranslate"><span class="pre">bonjour</span></code> qui a été créé, on comprend comment notre commande a été traitée par le système.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cat<span class="w"> </span>bonjour
bonjour<span class="w"> </span>EBAII<span class="w"> </span><span class="m">2023</span><span class="w"> </span>ebaii.txt
</pre></div>
</div>
<p>Alors, comment gérer les espaces dans les noms de fichiers/dossiers ? Vous avez 2 possibilités:</p>
<ol class="arabic simple">
<li><p>Enveloppez le nom complet du fichier entre guillemets : <code class="docutils literal notranslate"><span class="pre">&quot;bonjour</span> <span class="pre">ebaii.txt&quot;</span></code></p></li>
<li><p>Échapper chaque espace à l’aide du caractère barre oblique inverse : <code class="docutils literal notranslate"><span class="pre">bonjour\</span> <span class="pre">ebaii.txt</span></code></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;bonjour EBAII 2023&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;bonjour ebaii.txt&quot;</span>
cat<span class="w"> </span><span class="s2">&quot;bonjour ebaii.txt&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;bonjour EBAII 2023&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>bonjour<span class="se">\ </span>ebaii.txt
cat<span class="w"> </span>bonjour<span class="se">\ </span>ebaii.txt
</pre></div>
</div>
</div>
</div>
<p>C’est utile, mais pas très lisible : Exemple pour un chemin <code class="docutils literal notranslate"><span class="pre">/home/user/mon\</span> <span class="pre">dossier\</span> <span class="pre">de\</span> <span class="pre">projet/experience\</span> <span class="pre">jour</span> <span class="pre">\</span> <span class="pre">1/fichier\</span> <span class="pre">resultats.csv</span></code></p>
<p><strong>CONCLUSION</strong> : Pour vous éviter de gros soucis et aussi ne pas froisser les bioinformaticiens les plus suceptibles, il faut éviter d’utiliser les espaces dans vos noms de fichiers/dossier et de les remplacer par le tiret bas: <code class="docutils literal notranslate"><span class="pre">_</span></code></p>
</section>
<section id="attention-aux-fichiers-provenant-de-windows-macos">
<h2>Attention aux fichiers provenant de Windows/MacOS<a class="headerlink" href="#attention-aux-fichiers-provenant-de-windows-macos" title="Permalink to this heading">#</a></h2>
<p>Bien que Linux soit un sytème complet, performant, permettant de réaliser tous les traitements de fichiers, vous aurez surement besoin d’importer un fichier (référence, fichier texte, script) provenant de Windows ou MacOS.</p>
<p>Cet acte aussi anodin qu’on pourrait le croire peut vous conduire à une succession d’erreurs difficiles à identifier, mais finalement tellement simples à résoudre en amont.</p>
<p>Imaginons que vous souhaitiez écrire un nouveau script bash pour tester vos nouvelles compétences. Un simple script de quelques lignes…</p>
<p>Mais en voyant le travail collosale pour maitriser un éditeur de texte sous Linux (pourtant c’est super simple !! si si !!), vous vous dites qu’après tout je vais éditer mon script dans mon traitement de texte favoris, puis je l’enregistrerai au format texte pour le télécharger ensuite dans le dossier <code class="docutils literal notranslate"><span class="pre">home</span></code> du cluster de calcul.</p>
<p>Chargeons le script suivant, donnons lui les droits d’éxécution avec la commande <code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">+x</span></code> et affichons le contenu du script:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>https://raw.githubusercontent.com/IFB-ElixirFr/LinuxEBAII/EBAII23/docs/data/my_script_windows.sh
chmod<span class="w"> </span>+x<span class="w"> </span>my_script_windows.sh
cat<span class="w"> </span>my_script_windows.sh
</pre></div>
</div>
</div>
</div>
<p>La commande cat affiche les lignes suivantes essayons de comprendre rapidement ce que fait notre script :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#Ecrit hostname dans une variable</span>
<span class="nv">host_name</span><span class="o">=</span><span class="k">$(</span>hostname<span class="k">)</span>
<span class="c1">#Affiche hostname avec la commande echo</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;hostname: </span><span class="nv">$host_name</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Jusqu’ici tout va bien… On va executer notre script:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./my_script_windows.sh
</pre></div>
</div>
</div>
</div>
<p>Le shell vous retourne une erreur : <code class="docutils literal notranslate"><span class="pre">&quot;/bin/bash^M</span> <span class="pre">:</span> <span class="pre">mauvais</span> <span class="pre">interpréteur:</span> <span class="pre">Aucun</span> <span class="pre">fichier</span> <span class="pre">ou</span> <span class="pre">dossier</span> <span class="pre">de</span> <span class="pre">ce</span> <span class="pre">type&quot;</span></code> ?????</p>
<p>Pourtant le script semble bien écrit ? Alors il faut aller chercher plus loin…</p>
<p>Dans un fichier texte, plusieurs conventions incompatibles existent pour représenter la fin de ligne ou la fin de paragraphe. Les trois conventions principales trouvent leur origine dans des systèmes d’exploitation concurrents:</p>
<ol class="arabic simple">
<li><p>Dans la convention « Unix » (Linux), la fin de ligne est indiquée par le caractère saut de ligne (LF - Line Feed, code 10 de la table ASCII).</p></li>
<li><p>Dans la convention « Mac », la fin de ligne est indiquée par le caractère retour chariot (CR - Carriage Return , code 13 de la table ASCII).</p></li>
<li><p>Dans la convention « DOS » (Windows), la fin de ligne est indiquée par la combinaison des deux caractères CR puis LF.</p></li>
</ol>
<p>On va regarder le fichier un peu plus en détail avec la commande:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>-A<span class="w"> </span>my_script_windows.sh
</pre></div>
</div>
</div>
</div>
<p>Les lignes suivantes s’affichent :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash^M$</span>
<span class="c1">#Ecrit hostname dans une variable^M$</span>
<span class="nv">host_name</span><span class="o">=</span><span class="k">$(</span>hostname<span class="k">)</span>^M$
<span class="c1">#Affiche hostname avec la commande echo^M$</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;hostname: </span><span class="nv">$host_name</span><span class="s2">&quot;</span>^M$
</pre></div>
</div>
<p>Les caractères <code class="docutils literal notranslate"><span class="pre">^M</span></code> en fin de ligne apparaissent lorsque vous créez un fichier texte sur Windows et que vous transférez le fichier sur Linux par exemple avec SCP ou FTP. Ils correspondent au retour chariot de fichier sur DOS.</p>
<p>En effet, comme vu plus haut, le retour chariot est différent dans le monde Linux et le monde Windows.</p>
<p>On va utiliser la commande <code class="docutils literal notranslate"><span class="pre">File</span></code> afin d’obtenir des informations sur le type de fichier. C’est une commande utile lorsque l’on tombe sur un fichier inconnu ou que l’on a des doutes quant au type de fichier.:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>file<span class="w"> </span>my_script_windows.sh
</pre></div>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>my_script_windows.sh:<span class="w"> </span>Bourne-Again<span class="w"> </span>shell<span class="w"> </span>script,<span class="w"> </span>ASCII<span class="w"> </span>text<span class="w"> </span>executable,<span class="w"> </span>with<span class="w"> </span>CRLF<span class="w"> </span>line<span class="w"> </span>terminators
</pre></div>
</div>
<p>Et oui le fichier n’est pas au bon format : <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">CRLF</span> <span class="pre">line</span> <span class="pre">terminators</span></code> ==&gt; il s’agit d’un fichier de type “DOS” probablement édité dans Windows</p>
<p>Pour éviter tout problème futur, on va convertir notre fichier au bon format avec la commande <code class="docutils literal notranslate"><span class="pre">dos2unix</span> <span class="pre">-</span> <span class="pre">DOS/MAC</span> <span class="pre">to</span> <span class="pre">UNIX</span> <span class="pre">text</span> <span class="pre">file</span> <span class="pre">format</span> <span class="pre">converter</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dos2unix<span class="w"> </span>my_script_windows.sh
file<span class="w"> </span>my_script_windows.sh
</pre></div>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>my_script_windows.sh:<span class="w"> </span>Bourne-Again<span class="w"> </span>shell<span class="w"> </span>script,<span class="w"> </span>ASCII<span class="w"> </span>text<span class="w"> </span>executable
</pre></div>
</div>
<p>Cette fois on a bien un fichier au format texte, compatible Linux</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>-A<span class="w"> </span>my_script_windows.sh
./my_script_windows.sh
</pre></div>
</div>
</div>
</div>
<p><strong>CONCLUSION</strong> : ici nous avons vu l’exemple d’un script, mais ce pourrait être un fichier fasta, un fichier d’annotation, etc… La règle à appliquer est la suivante : dès que vous importez un fichier qui a été créé ou modifié dans un autre système d’exploitation (Windows, MacOS), vérifier bien le type de fichier avec la commande <code class="docutils literal notranslate"><span class="pre">File</span></code>.</p>
<p>Si besoin, utilisez la commande <code class="docutils literal notranslate"><span class="pre">dos2unix</span></code> pour le convertir et ainsi éviter de potentiels erreurs difficiles à identifier !</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "bash"
        },
        kernelOptions: {
            name: "bash",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'bash'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="10_redirection.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Redirections</p>
      </div>
    </a>
    <a class="right-next"
       href="quizz_02.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Quizz 2</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evitez-les-espaces">Évitez les espaces !</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#attention-aux-fichiers-provenant-de-windows-macos">Attention aux fichiers provenant de Windows/MacOS</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Thomas Denecker & Claire Toffano-Nioche
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>